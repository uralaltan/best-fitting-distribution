const KS = require('./KSTest.js');
const ChiSquare = require('./ChiSquare.js');
const Filter = require('./Filter.js');
/*
// Test Data
const normalTestData = [0.4967141530112327, -0.13826430117118466, 0.6476885381006925, 1.5230298564080254, -0.23415337472333597, -0.23413695694918055, 1.5792128155073915, 0.7674347291529088, -0.4694743859349521, 0.5425600435859647, -0.46341769281246226, -0.46572975357025687, 0.24196227156603412, -1.913280244657798, -1.7249178325130328, -0.5622875292409727, -1.0128311203344238, 0.3142473325952739, -0.9080240755212109, -1.4123037013352915, 1.465648768921554, -0.22577630048653566, 0.06752820468792384, -1.4247481862134568, -0.5443827245251827, 0.11092258970986608, -1.1509935774223028, 0.37569801834567196, -0.600638689918805, -0.2916937497932768, -0.6017066122293969, 1.8522781845089378, -0.013497224737933921, -1.0577109289559004, 0.822544912103189, -1.2208436499710222, 0.2088635950047554, -1.9596701238797756, -1.3281860488984305, 0.19686123586912352, 0.7384665799954104, 0.1713682811899705, -0.11564828238824053, -0.3011036955892888, -1.4785219903674274, -0.7198442083947086, -0.4606387709597875, 1.0571222262189157, 0.3436182895684614, -1.763040155362734, 0.324083969394795, -0.38508228041631654, -0.6769220003059587, 0.6116762888408679, 1.030999522495951, 0.9312801191161986, -0.8392175232226385, -0.3092123758512146, 0.33126343140356396, 0.9755451271223592, -0.47917423784528995, -0.18565897666381712, -1.1063349740060282, -1.1962066240806708, 0.812525822394198, 1.356240028570823, -0.07201012158033385, 1.0035328978920242, 0.36163602504763415, -0.6451197546051243, 0.36139560550841393, 1.5380365664659692, -0.03582603910995154, 1.5646436558140062, -2.6197451040897444, 0.8219025043752238, 0.08704706823817122, -0.29900735046586746, 0.0917607765355023, -1.9875689146008928, -0.21967188783751193, 0.3571125715117464, 1.477894044741516, -0.5182702182736474, -0.8084936028931876, -0.5017570435845365, 0.9154021177020741, 0.32875110965968446, -0.5297602037670388, 0.5132674331133561, 0.09707754934804039, 0.9686449905328892, -0.7020530938773524, -0.3276621465977682, -0.39210815313215763, -1.4635149481321186, 0.29612027706457605, 0.26105527217988933, 0.00511345664246089, -0.23458713337514692]
const poissonTestData = [3, 8, 2, 3, 5, 8, 3, 2, 5, 3, 8, 10, 3, 2, 5, 7, 6, 6, 2, 4, 9, 7, 11, 8, 3, 2, 3, 4, 5, 5, 4, 3, 8, 2, 1, 4, 5, 4, 3, 4, 8, 2, 2, 2, 7, 6, 7, 6, 7, 6, 4, 2, 3, 4, 7, 4, 3, 2, 6, 3, 5, 9, 6, 6, 9, 4, 9, 2, 10, 6, 9, 4, 1, 6, 8, 6, 2, 3, 5, 3, 3, 5, 6, 5, 3, 5, 3, 3, 6, 5, 6, 2, 4, 7, 6, 5, 4, 3, 3, 7]
const exponentialTestData = [2.652556048220781, 1.775607071141798, 3.3531763894156916, 0.13272854183610555, 1.3125513634605075, 2.7861272652612405, 0.19995580970079768, 0.06881031747249687, 1.351393153188622, 0.8544271441986697, 1.8440771413214778, 0.1505582464141926, 1.586050111031868, 0.22517977306702294, 0.178715198965518, 0.1794446565599507, 1.6851032825640087, 1.094213639015969, 0.7403759563460444, 0.44446140167806814, 2.0972026672943325, 0.49831274969744493, 1.6960826628480696, 0.5782748811138804, 0.4731195658177371, 0.6211610598996026, 0.35864527543064206, 1.3767773129369394, 0.698602815695596, 0.26424253099706524, 2.2983398495505836, 0.4843317423587113, 0.7842823821777635, 2.3694956087096264, 0.9787993038573307, 0.12431461585777975, 2.810616683932209, 0.9880769289348262, 0.4078263155513094, 0.1499768206164258, 1.580001395680267, 0.9677755075628524, 0.7624138580490282, 2.2433033305364454, 1.553990013696072, 0.16449132012634088, 0.37356255139580047, 0.28566961854883793, 1.3623680618684115, 0.03410753985783793, 0.843713556386143, 1.4374137158597788, 2.093667344385938, 0.4186745935450927, 1.721807963541003, 0.11724388509877734, 1.8737439572116876, 0.13637963052807084, 0.5063146312098643, 1.59600536332649, 0.16242178992041617, 0.26039302244475093, 1.2810430976449054, 1.2730961719916947, 1.0248442087373908, 1.184001709087617, 0.7824691011956382, 0.2900836992594099, 0.4241831937932634, 0.20040127451653184, 2.3908761393236517, 0.8756090546365985, 0.5122456594790223, 0.6199075063211633, 2.942823736997211, 0.16646955012850068, 0.882444609108554, 0.7049944407931773, 0.9453443180030727, 0.018276180406497235, 2.0566935225406966, 2.689988536691252, 0.8327154639433977, 1.1928707405259582, 2.5574693578456262, 1.2283974533925182, 0.1655105091241217, 0.8587021498525602, 0.933220857034015, 0.5518745039228211, 1.333490303883392, 2.7236768857624747, 2.5978762130541173, 0.5993642963036176, 0.12017870455178419, 4.1891739891207065, 1.8257181108184428, 0.1331459597170634, 2.536307940963276, 2.0394239312268634]
const gammaTestData = [15.12363702967751, 4.877444018252139, 6.933809780163535, 2.043628345935723, 6.05355745967164, 0.21459691854881652, 7.805828680833462, 1.6351821555402382, 1.190105519466953, 2.963140324437967, 5.871670087371389, 2.9436633246458017, 1.3363530173963354, 4.853246239787027, 1.666477760256742, 2.9262965024145466, 1.8720805673027683, 3.733838133944038, 3.0455132065096238, 3.749874228841311, 15.345748937024325, 1.2140633152501221, 8.357700976886571, 0.10256587801427558, 1.1236682372224984, 3.8874370458202963, 2.9611325135385824, 4.890141086605507, 2.4835255009825725, 3.1568623422776185, 3.1082314422853443, 3.4113516370073333, 3.5948495661693656, 3.0079831197957714, 2.507388083957881, 2.775835700391066, 3.976651249704016, 4.0294619750387906, 1.9080453952599046, 1.4515926870235203, 0.6136293076555073, 10.281130560422882, 1.0455459517119818, 1.6386677382942878, 5.692429508914429, 0.8541329254845402, 2.1150261136651367, 6.524857637637114, 3.254036713655707, 12.569261471149316, 5.38781279666186, 0.990580095884182, 3.6004776961323612, 0.6478230625688891, 4.970918383617235, 2.2628074251187416, 4.887383539999911, 9.512468368279833, 9.254890151897406, 2.9415543441273626, 5.879786232061063, 2.5130910780042117, 3.8727416029988424, 0.7436579343053883, 1.6675701834642502, 5.04578435007251, 0.5462438565236011, 3.5855576635132187, 3.817303086517981, 5.161024281119866, 0.7482597661072442, 0.5972516537781046, 6.586867985348398, 3.8195888885619707, 2.5413449026607635, 0.7118890379984103, 2.402740587179775, 1.2396872769631142, 6.355280353938098, 0.955473301694254, 2.7826308119562118, 5.917959702160712, 5.199459719534028, 2.2936663667839814, 5.249207335814118, 5.924724416792654, 3.691007539550467, 4.6246557993871615, 2.812433227511821, 7.181028783848073, 3.129981991825561, 0.8623510629362552, 4.801568889140461, 1.3011597818517036, 7.841403209430585, 4.516091098108323, 0.42107607936957164, 6.11339658455725, 4.1188250813206615, 5.5354482585128215]
const logNormalTestData = [1.0237871119958357, 0.7720976671938495, 2.023186452129988, 3.1564534198229475, 0.834085569790071, 0.8003138940558795, 2.068228075571471, 2.2029251103874072, 0.7699497595685834, 0.8105085340089244, 0.8685828491856059, 0.5105711614410062, 0.6317092910079367, 0.605276207764039, 0.6812003730535189, 0.9828070709193211, 1.1242401286781656, 2.171135378034868, 0.6070300275475072, 1.6358477953710457, 0.8985306848791745, 0.9755714717406063, 1.4013131286860303, 0.5704321709543522, 1.210707468057051, 1.0867875078888334, 1.2791881667722367, 1.1555591298594319, 3.413199325125624, 0.7269700549945235, 0.7668236103729912, 0.7322961552174029, 0.7574948353966089, 0.727098324525672, 1.8121396343544731, 2.034504141300823, 0.7517336948988157, 0.6595629986285901, 1.2658043604785576, 0.7587283110375488, 1.3722694592328917, 1.1067873177993435, 0.4686626538572176, 2.1678862200317623, 2.4545386882119318, 0.7360962861458451, 0.8237808196979094, 1.1536521529129715, 1.1820242028911427, 1.3899560616738693, 2.7321866775846426, 0.915327262474062, 0.670890984603029, 0.5017468275945143, 0.6938739106176964, 0.9835729338674704, 2.452919460703876, 0.7719730417978209, 1.1183942775220101, 0.9918221738120914, 1.8115750073824954, 3.5376625517444666, 0.7668727584712101, 0.7829239444303435, 1.6855306474597591, 1.4062769409741682, 2.517719830792968, 1.3390549348792045, 0.8355659114793618, 1.3435661908679093, 1.7408122075977164, 1.507181108509939, 1.2887039398730669, 1.7046117032928212, 1.7943588925594276, 1.995868902293916, 1.3831381563083516, 0.9198367777589628, 1.076114472558098, 1.8280585156227624, 0.6646678508610152, 1.2024205551794338, 0.8214621587543203, 1.0144761911652234, 1.8950134408454133, 1.1002633211384434, 1.0234899164855722, 0.5066534343882413, 1.4522684511322417, 1.3809091554820956, 2.9494755109686928, 0.857367082766719, 1.1158039358828504, 1.132799317939127, 2.2005924947081916, 0.9534695721534097, 1.1497111798608788, 1.3551989293146571, 1.0977960308503774, 0.7999413973776784]
const betaTestData = [0.32959467579584184, 0.33930699633407224, 0.2502050749332346, 0.19685603522114178, 0.0442876952306047, 0.10983825219441334, 0.3059773634475039, 0.3491627262077964, 0.054318009571331705, 0.4238646641019199, 0.2963863789818734, 0.3434027861612391, 0.3008517261664285, 0.11772754061591269, 0.3988603783774352, 0.4062400062037195, 0.15977367975102633, 0.11970109953419851, 0.3036519416179476, 0.5568398648442695, 0.3161104904474824, 0.6055182501640242, 0.1398450080165595, 0.30744520220725596, 0.3491179435860378, 0.39437297339608324, 0.4901276771591554, 0.12112709657559202, 0.20544241688765266, 0.16734255962617878, 0.15404870190052086, 0.672795421006463, 0.09008163433495986, 0.4419285644978919, 0.0724330079045627, 0.03273815550661531, 0.08358317217511885, 0.5005327441523382, 0.40175295393412536, 0.34283694544006516, 0.166733175293429, 0.09648555828316811, 0.5445801173864672, 0.08002968110127649, 0.2450449682353012, 0.06098205451108568, 0.4085461912561739, 0.49829705787273737, 0.19329522744535, 0.15754139007854445, 0.25232506567783625, 0.6171293492391988, 0.7564098693751851, 0.3332874492478733, 0.1388804050665847, 0.13871184231942163, 0.6074227327454529, 0.3934712790501914, 0.457184932142367, 0.22430048412367698, 0.18508269708091804, 0.2287509890935366, 0.23825903621357405, 0.3588647145441718, 0.13411986552866315, 0.20554285194834154, 0.4136114893771512, 0.19882833189680024, 0.16123201679385415, 0.037720894429451916, 0.3787836929263559, 0.3426338951099141, 0.4510559268059475, 0.2972548907094657, 0.3908296720817396, 0.10668228465363792, 0.33094166257402097, 0.0796891995032622, 0.21428544490625198, 0.3123253039132726, 0.22727838692150576, 0.16803826174812772, 0.08542349950363787, 0.06685410199663483, 0.117502963063837, 0.22852936409796065, 0.35692180282813046, 0.41486319852294423, 0.3042627840764287, 0.36683433051323155, 0.15656806729427286, 0.15453396752178175, 0.40821674080829273, 0.1857088297254499, 0.21041933340068442, 0.34913797758925025, 0.10029006563577614, 0.5359833118160412, 0.18120333619440948, 0.4723836086313903]
const logTestData = [3, 1, 1, 2, 1, 4, 1, 1, 1, 1, 1, 2, 1, 3, 3, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 3, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 3, 1, 1, 2, 3, 3, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 4, 1, 2, 2, 1, 3, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 5, 1, 1, 1, 1, 1, 3, 3, 1, 1, 2, 1, 1]
const binomialTestData = [2, 8, 6, 4, 4, 4, 6, 6, 4, 4, 3, 6, 6, 4, 2, 3, 8, 4, 6, 6, 5, 4, 3, 5, 6, 6, 5, 2, 8, 6, 4, 8, 5, 5, 6, 6, 6, 3, 4, 7, 4, 4, 5, 5, 5, 7, 4, 3, 4, 7, 6, 4, 6, 7, 7, 7, 4, 6, 5, 7, 6, 6, 6, 4, 5, 8, 7, 2, 3, 3, 6, 6, 4, 5, 7, 6, 5, 5, 5, 4, 5, 6, 7, 6, 6, 3, 5, 1, 4, 6, 9, 3, 5, 6, 4, 5, 6, 5, 4, 4]
const negativeBinomialTestData = [11, 8, 13, 17, 6, 22, 14, 8, 13, 4, 8, 10, 7, 7, 5, 17, 11, 9, 9, 11, 11, 12, 12, 11, 4, 19, 25, 9, 9, 17, 8, 6, 9, 11, 17, 10, 7, 3, 8, 12, 13, 11, 15, 14, 4, 7, 1, 14, 7, 9, 4, 5, 6, 13, 6, 2, 15, 13, 3, 5, 14, 4, 4, 13, 16, 10, 4, 4, 17, 16, 14, 17, 21, 12, 10, 20, 7, 12, 12, 6, 5, 12, 10, 19, 15, 11, 4, 3, 13, 9, 11, 7, 9, 10, 13, 5, 10, 8, 4, 9]
*/
// Kolmogorov-Smirnov test
const giveKSRankings = (data) => {

    const KSTest = new KS();
    const KSTestScores = {
        "Normal Distribution": KSTest.normal(data),           
        "Poisson Distribution": KSTest.poisson(data),
        "Exponential Distribution": KSTest.exponential(data),
        "Gamma Distribution": KSTest.gamma(data),    
        "Log Normal Distribution": KSTest.lognormal(data),
        "Beta Distribution": KSTest.beta(data),/*
        "Log Distribution": KSTest.log(data),
        "Binomial Distribution": KSTest.binomial(data),
        "Negative Binomial Distribution": KSTest.negativebinomial(data),*/
    }

    const maxOriginalValue = Math.max(...Object.values(KSTestScores));
    const minOriginalValue = Math.min(...Object.values(KSTestScores));
    const range = maxOriginalValue - minOriginalValue;

    const scaledTestScores = {};
    for (const [key, value] of Object.entries(KSTestScores)) {
        const scaledValue = 100 - ((value - minOriginalValue) / range) * 100;
        scaledTestScores[key] = scaledValue;
    }

    return scaledTestScores;
}
/*

normalTestScore = giveKSRankings(normalTestData);
poissonTestScore = giveKSRankings(poissonTestData);
exponentialTestScore = giveKSRankings(exponentialTestData);
gammaTestScore = giveKSRankings(gammaTestData);
logNormalTestScore = giveKSRankings(logNormalTestData);
betaTestScore = giveKSRankings(betaTestData);/*
logTestScore = giveKSRankings(betaTestData);
binomialTestScore = giveKSRankings(betaTestData);
negativeBinomialTestScore = giveKSRankings(betaTestData);*/

/*
console.log("'Normal Data Scores'", normalTestScore);
console.log("'Poisson Data Scores'", poissonTestScore);
console.log("'Exponential Data Scores'", exponentialTestScore);
console.log("'Gamma Data Scores'", gammaTestScore);
console.log("'Log Normal Data Scores'", logNormalTestScore);
console.log("'Beta Data Scores'", betaTestScore);
*/

const normalTestData = [-1.7497654730546974, 0.34268040332750216, 1.153035802563644, -0.25243603652138985, 0.9813207869512316, 0.5142188413943821, 0.22117966922140045, -1.0700433305682933, -0.18949583082317534, 0.25500144427338167, -0.4580269855026243, 0.43516348812289213, -0.5835950503226648, 0.816847071685779, 0.672720805709661, -0.10441114339062771, -0.5312803768519098, 1.0297326851333461, -0.43813562270441736, -1.1183182462554362, 1.6189816606752596, 1.5416051745134067, -0.251879139213213, -0.8424357382512976, 0.18451869056394285, 0.9370822011089522, 0.7310003438348087, 1.361556125145331, -0.32623805920230253, 0.055676014854776905, 0.22239960855530486, -1.4432169952253369, -0.7563523055944354, 0.8164540110192858, 0.7504447615341785, -0.4559469274680022, 1.1896222680291255, -1.690616826383604, -1.3563990488613127, -1.2324345139149262, -0.5444391616724643, -0.6681717368134277, 0.007314563228903049, -0.6129387354781626, 1.299748074755309, -1.733095623653281, -0.98331009912963, 0.3575077531673654, -1.6135785028221759, 1.4707138666121289, -1.1880175973177194, -0.5497461935354897, -0.9400461615447682, -0.8279323643658708, 0.1088634678336795, 0.50780959049232, -0.8622273465104797, 1.249469742726979, -0.07961124591739943, -0.8897314812650339, -0.8817983894830175, 0.01863894948806016, 0.2378446219236218, 0.013548548628612411, -1.635529399380822, -1.044209877709317, 0.6130388816875463, 0.7362052133238238, 1.0269214393997905, -1.4321906110589266, -1.841188300186717, 0.36609322616730366, -0.3317771350528086, -0.6892179780897532, 2.0346075615049335, -0.5507144119145928, 0.7504533303268411, -1.3069923390808191, 0.5805733357942744, -1.1045230926622938, 0.6901214702247076, 0.6868900661384048, -1.566687529578391, 0.9049741214666812, 0.7788223993230673, 0.4282328705967407, 0.10887198989791452, 0.028283634823073247, -0.5788258247909884, -1.1994511991939312, -1.7059520057381703, 0.3691639571070058, 1.8765734269621657, -0.37690335016897475, 1.8319360818255361, 0.003017434031214063, -0.07602346572462335, 0.003957593987599105, -0.18501411089711395, -2.4871515352227695]
const poissonTestData = [4, 3, 7, 5, 5, 5, 8, 3, 8, 6, 8, 6, 3, 9, 4, 8, 2, 1, 3, 7, 9, 7, 6, 5, 5, 2, 6, 2, 5, 2, 4, 4, 1, 4, 4, 4, 8, 6, 1, 5, 8, 6, 2, 4, 4, 4, 2, 5, 8, 6, 7, 6, 4, 8, 4, 6, 4, 4, 6, 4, 2, 8, 5, 3, 5, 6, 2, 5, 4, 1, 4, 3, 5, 6, 4, 3, 2, 2, 5, 4, 7, 6, 9, 7, 9, 3, 4, 11, 7, 8, 9, 8, 6, 6, 4, 6, 10, 4, 8, 6]
const exponentialTestData = [1.5186085080233425, 0.8296187989516668, 1.8915380747520176, 0.40419715125149913, 1.1635936141644962, 0.37153605035953124, 1.081151995182783, 0.43769084057643254, 0.06327264125334948, 0.5868224033095163, 1.232118023676983, 0.2976228625392652, 0.9632854569959958, 0.12968198654960794, 1.0142462548033706, 0.06005976248029211, 0.04879547047229803, 0.7173262713932474, 0.35569683798999363, 0.4253150235934847, 1.0475887192736089, 2.9737412603379365, 0.7261702475498509, 1.2501683800138133, 0.8822788708557411, 0.5024207739057109, 1.114182452873824, 0.2707208326866468, 1.8852516677136082, 0.3459797236970271, 0.12857947483217277, 0.5641986136000605, 0.31738769554060664, 0.31982830502524356, 1.0277882889314183, 0.5976776107279959, 2.3912499038158512, 1.4934216279447539, 0.41417168049740516, 1.2165200270687841, 0.27327780902847726, 0.22961579592512804, 1.151913705894687, 0.5390455687363225, 0.21717570372526893, 0.4948367551639561, 0.10372121910238485, 0.3894112337415096, 2.2025419104116897, 2.8520114814781703, 1.0713982451992594, 0.21769436115776056, 0.7458704668799042, 0.3722369840681931, 0.8104642120587363, 0.7668578936541531, 0.6256996364201508, 1.4604344324553729, 2.179898293235671, 1.7708361079426858, 3.1903631753916515, 2.4198382251637076, 0.1274638759683179, 0.12156735650391354, 5.797545939569905, 0.040830667430893405, 1.9630015908020988, 0.6264329661922393, 0.34108049670513935, 1.3214957155695224, 0.6390235496605069, 0.4557596099150061, 0.07660363775882932, 1.7215170717914983, 0.669463691186245, 1.4149492792341256, 0.4637481517808449, 0.31403265255329, 1.3264969441259222, 1.874475167100823, 1.4835090892899916, 0.10232415226812339, 0.3752533230930119, 0.05582710527546491, 5.631796147212541, 0.19564844785079621, 0.46399134700561095, 0.44462066705446973, 0.27335971798410064, 0.21582594839464503, 1.2806986043755233, 5.612990413465136, 1.0725968291585297, 0.21027751013659965, 1.5898804788166228, 1.0027990555364774, 0.061848446035108744, 0.6000885593234603, 0.5077563053677111, 0.6115445416931078]
const gammaTestData = [3.915793517567232, 1.017718045651929, 5.10064716601195, 7.19012762718342, 3.05956253558991, 3.1853933045813823, 2.236153458053158, 4.8794249516775885, 3.9452862538580766, 2.4617159269706734, 5.8930065625880435, 0.3382806204793521, 6.288997584498555, 1.5300444250140952, 2.094213975437269, 2.8213730845641876, 9.121670508142426, 0.2758846958819774, 1.409927947633641, 6.678231030077088, 1.4880391558851656, 2.3004670311770123, 4.553650330528119, 3.5078518456610848, 5.025307942402803, 3.077731820355399, 4.251015375146006, 5.023237549340408, 4.573372019429373, 1.1071714792949863, 1.7775859572044266, 1.8126543099237902, 4.18940168387388, 0.4864784106088723, 0.7364756919935438, 2.052687203782589, 0.4367234117514075, 0.3716276757440769, 3.2102684948085214, 3.243709342361095, 4.35508979756392, 15.396185243067187, 9.340980484824007, 5.442835656250961, 1.7811445444015692, 3.692486663388323, 3.260018356436426, 1.0327535160493388, 6.603538517650213, 4.131267695845211, 1.946145918199912, 2.448441528437778, 3.3756566717192533, 2.820936055348295, 6.70067095624083, 0.9047685109076572, 2.704922744985692, 0.9463619100874412, 3.430592173445181, 0.8135278594318167, 1.6205671033317806, 13.44554788237247, 1.617334910397009, 7.317101174489582, 2.5919428773500823, 2.1255891215913967, 7.661647138316753, 0.9938877886341924, 3.5899494473034608, 2.284650238762022, 6.3159045686357675, 2.0841862381569367, 3.0843930540396487, 3.9900490296437248, 1.0148661437864732, 3.5754035220370803, 2.914907328900795, 1.5295794082278662, 0.6340479495606661, 3.7912503306300915, 2.432256136433334, 8.151499495142323, 1.2484169565144974, 3.1731028026571586, 3.5637465613777475, 0.944183503885719, 4.412886852031837, 4.8783458700447415, 6.30485402167959, 7.140820657034167, 4.233612429629989, 4.148031822429334, 2.2731267719417994, 4.434902678494647, 5.388663317293677, 2.6075242186536154, 5.745963694158179, 13.422280221075633, 5.662868382398248, 6.296603031813266]
const logNormalTestData = [1.8703316747466443, 0.6425155240113188, 1.8000325361419403, 1.271056067615707, 0.7445437107478338, 1.5389255209620072, 0.47886882870027336, 1.385630262328092, 0.9269598902979961, 1.957402700335084, 0.7191092172255926, 0.8150279298675751, 0.8442638276801129, 0.8201161169660882, 0.4823328113888645, 0.9945615461431724, 0.6816175961603397, 1.523615677222179, 1.485779574808184, 0.5174647548824429, 1.0065981910597024, 1.0796263551875611, 0.6748954323103815, 1.9818933190642065, 1.0020064079148083, 1.2543244015544883, 0.8161236978815009, 1.4078444061917308, 4.2290806367930776, 0.7452061499260422, 1.2003494270176436, 1.1753368069031147, 1.3380350167621626, 0.9957801854441526, 0.4223902129729224, 0.5988353296752278, 1.3066463242987874, 0.4382294718728909, 1.3972047792446922, 1.1504591824320827, 1.2230634748911964, 1.3466173176670653, 0.9778026085440764, 1.3808140568834892, 0.5690826645826186, 1.1188005907497343, 1.0542772647969274, 0.6061223642922794, 0.911110747390688, 2.715499077793557, 1.331463050757571, 0.5044139086969357, 0.5605370017358272, 1.703888709411946, 0.4371414729202964, 2.0929356363838205, 0.6272372184490359, 1.0673836408425683, 0.984605378759028, 0.9571052926507311, 1.3618985724508559, 4.232851577356219, 2.4106840615183596, 1.7257564114546042, 0.3306382823571258, 0.9880812172195407, 1.8563770326848088, 0.7960478092492597, 2.893227612148522, 1.1279153910114992, 0.9711037611375434, 0.6459714572664477, 0.9404537098315696, 1.577589865988316, 0.9476859979634951, 0.6950750752544899, 2.2208310010517156, 1.6386512806986808, 0.783444145279256, 1.3700502291966357, 0.797160014589174, 1.3560143820790804, 0.6530350503084735, 0.9730937843403158, 1.725293729003201, 0.3972574152522719, 0.8136565662377442, 0.8124239129560484, 0.5215874680636715, 0.5666295797373756, 0.40705018800750403, 0.7183642894025085, 3.5774235029149346, 0.4409438164160312, 1.003163825272404, 1.3110866873074942, 0.9360840409502657, 0.8274818138207142, 2.638766049331458, 0.5939636329132175]
const betaTestData = [0.27517686673975555, 0.12731410807520557, 0.21934332689079875, 0.6000522360267049, 0.17858761180374205, 0.6116901452584376, 0.5035213070287365, 0.43936625734582785, 0.04265853936705067, 0.1638179195194452, 0.37669788272029614, 0.2099312967410092, 0.2830926499432269, 0.5995305702905209, 0.1302925989385427, 0.1556406199685669, 0.029925835527196562, 0.10070544341019921, 0.17466301931250447, 0.4550309897318116, 0.19336457677401694, 0.2994900397718304, 0.516935974739687, 0.3386613097250704, 0.6969200088748142, 0.14477275541648366, 0.362279274041221, 0.6478388920867101, 0.236300016845003, 0.32585878566677806, 0.182702757207078, 0.2922475884259462, 0.12563095061678786, 0.218791381544193, 0.23472491547086474, 0.3338547956580197, 0.14574266071414194, 0.49565388351897494, 0.3303866456977901, 0.27991499331777425, 0.33683980739165814, 0.05115303372109406, 0.26015630757940406, 0.5115719443569249, 0.16759090327372042, 0.2661236107897765, 0.15522951117796277, 0.14146886002961223, 0.16394046523609657, 0.4599980763099294, 0.48465725157821504, 0.12709999205928324, 0.4359225179665644, 0.32564287320334956, 0.2309265799510268, 0.23476222442354158, 0.163110264229096, 0.2271820729926952, 0.34651310787352907, 0.29423838922999457, 0.20363507240019846, 0.5657898368592046, 0.27523652090069184, 0.2703983456772385, 0.18264014573861426, 0.3161351201254165, 0.3292411159635895, 0.2980150200405302, 0.2173041720210221, 0.5219868732960273, 0.20777902027137732, 0.10184583167454958, 0.19448303584895255, 0.44657290912498016, 0.0951231045064586, 0.2980082798772132, 0.3330294734261116, 0.14883963253306973, 0.08171229104445078, 0.4004897449298428, 0.42915888814966807, 0.25540495302196026, 0.12242736686943785, 0.39244964268717314, 0.14048425946959275, 0.1865478627922817, 0.11219579862063934, 0.18962034545854523, 0.16504164595389129, 0.08277730893242181, 0.11209727526328668, 0.16782950731420263, 0.4552135536007872, 0.3807557307618682, 0.07571802557728902, 0.3784759665415788, 0.3665896989767233, 0.2740473050094191, 0.41167434867562663, 0.16888883729511606]
const logTestData = [1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 3, 1, 2, 2, 1, 1, 4, 2, 2, 1, 2, 1, 1, 4, 1, 3, 1, 1, 1, 2, 1, 1, 1, 2, 3, 1, 1, 1, 4, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 2, 3, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 5, 1, 1, 1, 2, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 2, 5, 1, 1, 1, 1, 1, 3, 1, 4]
const binomialTestData = [7, 4, 9, 3, 7, 7, 7, 6, 3, 4, 4, 5, 6, 7, 3, 3, 6, 5, 4, 6, 5, 4, 6, 4, 7, 5, 6, 3, 5, 6, 3, 5, 7, 3, 7, 4, 5, 6, 6, 4, 6, 3, 6, 6, 4, 5, 8, 3, 3, 4, 6, 4, 2, 7, 4, 3, 4, 3, 5, 5, 6, 6, 6, 4, 4, 5, 4, 4, 6, 3, 3, 4, 4, 1, 8, 8, 6, 5, 4, 6, 6, 7, 6, 4, 7, 5, 3, 3, 9, 6, 3, 5, 8, 5, 4, 1, 5, 8, 5, 5]
const negativeBinomialTestData = [8, 16, 6, 6, 8, 11, 6, 13, 9, 12, 4, 15, 10, 5, 4, 6, 4, 8, 2, 8, 6, 9, 6, 10, 9, 15, 5, 4, 15, 6, 18, 4, 15, 21, 3, 7, 12, 9, 8, 14, 18, 11, 13, 9, 7, 16, 10, 7, 2, 8, 8, 7, 20, 8, 8, 13, 6, 9, 8, 19, 9, 7, 8, 3, 6, 6, 10, 6, 20, 11, 18, 10, 11, 10, 8, 2, 5, 15, 4, 6, 13, 9, 5, 13, 11, 9, 10, 6, 3, 8, 18, 12, 4, 4, 11, 6, 16, 7, 12, 15]

const chiSquare = new ChiSquare();
const filter = new Filter();
const testData2 = [
    0.426011048787428,  0.1641528140841097, 0.29306062218625223,
  0.27017315922485363,  0.7628132297855239,  0.3412974821426475,
  0.48197389741531843,  0.4399955347800912, 0.11263936231377679,
   0.5129319088845067,  0.5863208162232832,  0.3255908283601584,
   0.6276725513724453,  0.6215222739217467,  0.3132355134978222,
  0.38191866061368573,  0.2040123818339623, 0.16872425689511494,
   0.3366160425704897, 0.39204981242717407, 0.31318916149835985,
   0.5024121572197316,  0.5524303062586076, 0.12495868460085867,
   0.4664140825857091,  0.4103515046070783,  0.4642259813457696,
   0.7378742414417706, 0.06635300462623339, 0.32981297168908347,
  0.23615040165817885,  0.5909130931568446, 0.28633533743431683,
  0.36608687063226875,  0.7286394748414385,  0.1983796267530639,
  0.30120817648069115, 0.24995575154261862,  0.3052231588813645,
   0.6093553240466074,  0.2771333512827657, 0.16638959357583438,
   0.5550532592170373, 0.40007597924303223, 0.36322451089505914,
   0.1253366168488771,  0.5039144672503189, 0.38170428042436444,
  0.49487697120298874,   0.356308987645437, 0.29296375838686994,
   0.5233846328263904,  0.3826270130956718, 0.35739552139331904,
   0.6856195387068409,  0.4351010984580517,   0.525383094838485,
   0.6237480930870488,  0.5797502412409273, 0.29282837839867654,
  0.44336732348387237,  0.4900933013812609, 0.24272352806924744,
   0.5447130174711103, 0.46343611858960276,  0.5300160710726141,
   0.6854712366923419, 0.48271352936020695,  0.5770255756226316,
  0.34433448711535447,  0.6290865490485905, 0.11703524216868723,
  0.29689982543284643, 0.05707847210190099,  0.1544863380266486,
   0.6741204253301184,  0.5111477786462111,  0.6456404418564944,
  0.38089953968861534,    0.22297856773501,  0.2338170906183164,
   0.6355643976196639, 0.23617500825407695, 0.41312091125289385,
   0.5984611244741536,  0.5401819979180293, 0.19313232202442868,
   0.4644999542408919,  0.2700520406235902, 0.47459723103514584,
   0.2837669137936356,  0.5717821691318722,  0.2934752940846484,
   0.5446681325705959,  0.5551457709185457,  0.5820159981906705,
   0.7029823972923667, 0.28210023813932444,  0.2046749072884886,
  0.49089604823243654
];

const testData = normalTestData

const scaledData = filter.scaleArray(testData);
const binData = filter.convertToBins(scaledData, k=5);

const chiSquareScores = chiSquare.calculateBestFitScore(binData);

const chiSquarePercentages = chiSquare.addRanksAndPercantage(chiSquareScores);

console.log(chiSquarePercentages);
